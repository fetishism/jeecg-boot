<?xml version="1.0" encoding="UTF-8"?>
<project xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd" xmlns="http://maven.apache.org/POM/4.0.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <modelVersion>4.0.0</modelVersion>
  <parent>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-parent</artifactId>
    <version>2.6.6</version>
    <relativePath></relativePath>
  </parent>
  <groupId>org.jeecgframework.boot</groupId>
  <artifactId>jeecg-boot-parent</artifactId>
  <version>2022.0.0-SNAPSHOT</version>
  <packaging>pom</packaging>
  <name>JEECG BOOT Parent</name>
  <licenses>
    <license>
      <name>Apache License, Version 2.0</name>
      <url>https://www.apache.org/licenses/LICENSE-2.0</url>
    </license>
  </licenses>
  <modules>
    <module>jeecg-boot-base-core</module>
    <module>jeecg-module-demo</module>
    <module>jeecg-module-system</module>
    <module>jeecg-server-cloud</module>
  </modules>
  <distributionManagement>
    <repository>
      <id>jeecg</id>
      <name>jeecg Repository</name>
      <url>http://maven.jeecg.com:8090/nexus/content/repositories/jeecg</url>
    </repository>
    <snapshotRepository>
      <id>jeecg-snapshots</id>
      <name>jeecg Snapshot Repository</name>
      <url>http://maven.jeecg.com:8090/nexus/content/repositories/snapshots/</url>
    </snapshotRepository>
  </distributionManagement>
  <properties>
    <docker-registry>registry.cn-hangzhou.aliyuncs.com</docker-registry>
    <logback.version>1.2.9</logback.version>
    <jeecgboot.version>3.4.4</jeecgboot.version>
    <jimureport-spring-boot-starter.version>1.5.4</jimureport-spring-boot-starter.version>
    <to-registry-password>${env.ALIYUN_REGISTRY_PASSWORD}</to-registry-password>
    <to-registry-username>${env.ALIYUN_REGISTRY_USERNAME}</to-registry-username>
    <shiro-redis.version>3.1.0</shiro-redis.version>
    <base-image>registry.cn-hangzhou.aliyuncs.com/walkman/javabase:jdk8u202b08</base-image>
    <fastjson.version>1.2.83</fastjson.version>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    <spring-cloud-alibaba.version>2021.0.1.0</spring-cloud-alibaba.version>
    <java-jwt.version>3.11.0</java-jwt.version>
    <hutool.version>5.3.8</hutool.version>
    <jib-maven-plugin.version>3.3.1</jib-maven-plugin.version>
    <commons.version>2.6</commons.version>
    <xxl-job-core.version>2.2.0</xxl-job-core.version>
    <justauth-spring-boot-starter.version>1.3.4</justauth-spring-boot-starter.version>
    <knife4j-spring-boot-starter.version>3.0.3</knife4j-spring-boot-starter.version>
    <mybatis-plus.version>3.5.1</mybatis-plus.version>
    <dynamic-datasource-spring-boot-starter.version>3.2.0</dynamic-datasource-spring-boot-starter.version>
    <spring-cloud.version>2021.0.3</spring-cloud.version>
    <minidao.version>1.9.0</minidao.version>
    <druid.version>1.1.22</druid.version>
    <maven.jib.skip>true</maven.jib.skip>
    <alibaba.nacos.version>2.0.4</alibaba.nacos.version>
    <sqljdbc4.version>4.0</sqljdbc4.version>
    <log4j2.version>2.17.0</log4j2.version>
    <minio.version>8.0.3</minio.version>
    <aliyun.oss.version>3.11.2</aliyun.oss.version>
    <docker-repository>sinotopia</docker-repository>
    <codegenerate.version>1.4.3</codegenerate.version>
    <postgresql.version>42.2.25</postgresql.version>
    <qiniu-java-sdk.version>7.4.0</qiniu-java-sdk.version>
    <maven.springboot.skip>true</maven.springboot.skip>
    <pegdown.version>1.6.0</pegdown.version>
    <knife4j-spring-ui.version>2.0.9</knife4j-spring-ui.version>
    <java.version>1.8</java.version>
    <autopoi-web.version>1.4.5</autopoi-web.version>
    <aliyun-java-sdk-dysmsapi.version>2.1.0</aliyun-java-sdk-dysmsapi.version>
    <mysql-connector-java.version>8.0.27</mysql-connector-java.version>
    <from-registry-password>${env.ALIYUN_REGISTRY_PASSWORD}</from-registry-password>
    <flatten-maven-plugin.version>1.2.5</flatten-maven-plugin.version>
    <maven-surefire-plugin.version>3.0.0-M3</maven-surefire-plugin.version>
    <dom4j.version>1.6.1</dom4j.version>
    <shiro.version>1.10.0</shiro.version>
    <from-registry-username>${env.ALIYUN_REGISTRY_USERNAME}</from-registry-username>
    <p3c-pmd.version>2.1.1</p3c-pmd.version>
    <docker-image>${project.artifactId}</docker-image>
    <ojdbc6.version>11.2.0.3</ojdbc6.version>
    <revision>2022.0.0-SNAPSHOT</revision>
  </properties>
  <dependencyManagement>
    <dependencies>
      <dependency>
        <groupId>org.springframework.cloud</groupId>
        <artifactId>spring-cloud-dependencies</artifactId>
        <version>${spring-cloud.version}</version>
        <type>pom</type>
        <scope>import</scope>
      </dependency>
      <dependency>
        <groupId>com.alibaba.cloud</groupId>
        <artifactId>spring-cloud-alibaba-dependencies</artifactId>
        <version>${spring-cloud-alibaba.version}</version>
        <type>pom</type>
        <scope>import</scope>
      </dependency>
      <dependency>
        <groupId>org.jeecgframework.boot</groupId>
        <artifactId>jeecg-boot-common</artifactId>
        <version>${jeecgboot.version}</version>
      </dependency>
      <dependency>
        <groupId>org.jeecgframework.boot</groupId>
        <artifactId>jeecg-boot-starter-cloud</artifactId>
        <version>${jeecgboot.version}</version>
      </dependency>
      <dependency>
        <groupId>org.jeecgframework.boot</groupId>
        <artifactId>jeecg-boot-starter-job</artifactId>
        <version>${jeecgboot.version}</version>
      </dependency>
      <dependency>
        <groupId>org.jeecgframework.boot</groupId>
        <artifactId>jeecg-boot-starter-lock</artifactId>
        <version>${jeecgboot.version}</version>
      </dependency>
      <dependency>
        <groupId>org.jeecgframework.boot</groupId>
        <artifactId>jeecg-boot-starter-rabbitmq</artifactId>
        <version>${jeecgboot.version}</version>
      </dependency>
      <dependency>
        <groupId>org.jeecgframework.boot</groupId>
        <artifactId>jeecg-boot-starter-seata</artifactId>
        <version>${jeecgboot.version}</version>
      </dependency>
      <dependency>
        <groupId>org.jeecgframework.boot</groupId>
        <artifactId>jeecg-boot-starter-shardingsphere</artifactId>
        <version>${jeecgboot.version}</version>
      </dependency>
      <dependency>
        <groupId>org.jeecgframework.boot</groupId>
        <artifactId>jeecg-boot-base-core</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.jeecgframework.boot</groupId>
        <artifactId>jeecg-system-biz</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.jeecgframework.boot</groupId>
        <artifactId>jeecg-system-local-api</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.jeecgframework.boot</groupId>
        <artifactId>jeecg-system-cloud-api</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.hibernate</groupId>
        <artifactId>hibernate-core</artifactId>
        <version>5.6.7.Final</version>
        <exclusions>
          <exclusion>
            <artifactId>commons-collections</artifactId>
            <groupId>commons-collections</groupId>
          </exclusion>
        </exclusions>
      </dependency>
      <dependency>
        <groupId>org.jeecgframework.boot</groupId>
        <artifactId>hibernate-re</artifactId>
        <version>3.4.4-beta</version>
      </dependency>
      <dependency>
        <groupId>com.qiniu</groupId>
        <artifactId>qiniu-java-sdk</artifactId>
        <version>${qiniu-java-sdk.version}</version>
        <exclusions>
          <exclusion>
            <artifactId>okhttp</artifactId>
            <groupId>com.squareup.okhttp3</groupId>
          </exclusion>
        </exclusions>
      </dependency>
      <dependency>
        <groupId>dom4j</groupId>
        <artifactId>dom4j</artifactId>
        <version>${dom4j.version}</version>
      </dependency>
      <dependency>
        <groupId>commons-fileupload</groupId>
        <artifactId>commons-fileupload</artifactId>
        <version>1.4</version>
        <exclusions>
          <exclusion>
            <artifactId>commons-io</artifactId>
            <groupId>commons-io</groupId>
          </exclusion>
        </exclusions>
      </dependency>
      <dependency>
        <groupId>com.xkcoding.justauth</groupId>
        <artifactId>justauth-spring-boot-starter</artifactId>
        <version>${justauth-spring-boot-starter.version}</version>
        <exclusions>
          <exclusion>
            <artifactId>hutool-core</artifactId>
            <groupId>cn.hutool</groupId>
          </exclusion>
          <exclusion>
            <artifactId>fastjson</artifactId>
            <groupId>com.alibaba</groupId>
          </exclusion>
        </exclusions>
      </dependency>
      <dependency>
        <groupId>com.squareup.okhttp3</groupId>
        <artifactId>okhttp</artifactId>
        <version>4.4.1</version>
      </dependency>
      <dependency>
        <groupId>io.minio</groupId>
        <artifactId>minio</artifactId>
        <version>${minio.version}</version>
        <exclusions>
          <exclusion>
            <artifactId>okio</artifactId>
            <groupId>com.squareup.okio</groupId>
          </exclusion>
          <exclusion>
            <artifactId>okhttp</artifactId>
            <groupId>com.squareup.okhttp3</groupId>
          </exclusion>
        </exclusions>
      </dependency>
      <dependency>
        <groupId>org.jeecgframework</groupId>
        <artifactId>jeewx-api</artifactId>
        <version>1.5.0</version>
        <exclusions>
          <exclusion>
            <artifactId>commons-beanutils</artifactId>
            <groupId>commons-beanutils</groupId>
          </exclusion>
          <exclusion>
            <artifactId>commons-lang</artifactId>
            <groupId>commons-lang</groupId>
          </exclusion>
        </exclusions>
      </dependency>
      <dependency>
        <groupId>org.jeecgframework.jimureport</groupId>
        <artifactId>jimureport-spring-boot-starter</artifactId>
        <version>${jimureport-spring-boot-starter.version}</version>
        <exclusions>
          <exclusion>
            <artifactId>autopoi-web</artifactId>
            <groupId>org.jeecgframework</groupId>
          </exclusion>
        </exclusions>
      </dependency>
      <dependency>
        <groupId>org.jeecgframework.jimureport</groupId>
        <artifactId>jimureport-nosql-starter</artifactId>
        <version>${jimureport-spring-boot-starter.version}</version>
      </dependency>
    </dependencies>
  </dependencyManagement>
  <dependencies>
    <dependency>
      <groupId>org.projectlombok</groupId>
      <artifactId>lombok</artifactId>
    </dependency>
    <dependency>
      <groupId>com.alibaba</groupId>
      <artifactId>fastjson</artifactId>
      <version>${fastjson.version}</version>
    </dependency>
    <dependency>
      <groupId>org.pegdown</groupId>
      <artifactId>pegdown</artifactId>
      <version>${pegdown.version}</version>
    </dependency>
    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>org.springframework.boot</groupId>
      <artifactId>spring-boot-starter-test</artifactId>
      <scope>test</scope>
    </dependency>
  </dependencies>
  <repositories>
    <repository>
      <snapshots>
        <enabled>false</enabled>
      </snapshots>
      <id>aliyun</id>
      <name>aliyun Repository</name>
      <url>https://maven.aliyun.com/repository/public</url>
    </repository>
    <repository>
      <snapshots>
        <enabled>false</enabled>
      </snapshots>
      <id>jeecg</id>
      <name>jeecg Repository</name>
      <url>https://maven.jeecg.org/nexus/content/repositories/jeecg</url>
    </repository>
    <repository>
      <releases>
        <enabled>false</enabled>
      </releases>
      <snapshots>
        <enabled>true</enabled>
      </snapshots>
      <id>jeecg-snapshots</id>
      <name>jeecg-snapshots Repository</name>
      <url>https://oss.sonatype.org/content/repositories/snapshots</url>
    </repository>
  </repositories>
  <build>
    <resources>
      <resource>
        <filtering>true</filtering>
        <directory>src/main/resources</directory>
      </resource>
      <resource>
        <directory>src/main/java</directory>
        <includes>
          <include>**/*.xml</include>
          <include>**/*.json</include>
          <include>**/*.ftl</include>
        </includes>
      </resource>
    </resources>
    <pluginManagement>
      <plugins>
        <plugin>
          <groupId>org.codehaus.mojo</groupId>
          <artifactId>flatten-maven-plugin</artifactId>
          <version>${flatten-maven-plugin.version}</version>
          <executions>
            <execution>
              <id>flatten</id>
              <phase>process-resources</phase>
              <goals>
                <goal>flatten</goal>
              </goals>
              <configuration>
                <updatePomFile>true</updatePomFile>
                <flattenMode>resolveCiFriendliesOnly</flattenMode>
              </configuration>
            </execution>
            <execution>
              <id>flatten-clean</id>
              <phase>clean</phase>
              <goals>
                <goal>clean</goal>
              </goals>
            </execution>
          </executions>
        </plugin>
        <plugin>
          <groupId>com.google.cloud.tools</groupId>
          <artifactId>jib-maven-plugin</artifactId>
          <version>${jib-maven-plugin.version}</version>
          <executions>
            <execution>
              <phase>deploy</phase>
              <goals>
                <goal>build</goal>
              </goals>
            </execution>
          </executions>
          <configuration>
            <skip>${maven.jib.skip}</skip>
            <allowInsecureRegistries>true</allowInsecureRegistries>
            <from>
              <image>${base-image}</image>
              <auth>
                <username>${from-registry-username}</username>
                <password>${from-registry-password}</password>
              </auth>
            </from>
            <to>
              <image>${docker-registry}/${docker-repository}/${docker-image}</image>
              <auth>
                <username>${to-registry-username}</username>
                <password>${to-registry-password}</password>
              </auth>
              <tags>
                <tag>latest</tag>
                <tag>${project.version}</tag>
              </tags>
            </to>
            <container>
              <entrypoint>
                <shell>bash</shell>
                <option>-c</option>
                <arg>/entrypoint.sh</arg>
              </entrypoint>
              <ports>
                <port>8080</port>
              </ports>
              <environment>
                <SPRING_OUTPUT_ANSI_ENABLED>ALWAYS</SPRING_OUTPUT_ANSI_ENABLED>
                <JHIPSTER_SLEEP>10</JHIPSTER_SLEEP>
              </environment>
              <creationTime>USE_CURRENT_TIMESTAMP</creationTime>
              <user>1000</user>
            </container>
            <extraDirectories>
              <paths>src/main/docker/jib</paths>
              <permissions>
                <permission>
                  <file>/entrypoint.sh</file>
                  <mode>755</mode>
                </permission>
              </permissions>
            </extraDirectories>
          </configuration>
        </plugin>
        <plugin>
          <groupId>org.springframework.boot</groupId>
          <artifactId>spring-boot-maven-plugin</artifactId>
          <configuration>
            <skip>${maven.springboot.skip}</skip>
          </configuration>
        </plugin>
      </plugins>
    </pluginManagement>
    <plugins>
      <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>flatten-maven-plugin</artifactId>
      </plugin>
      <plugin>
        <artifactId>maven-compiler-plugin</artifactId>
        <configuration>
          <source>1.8</source>
          <target>1.8</target>
          <encoding>UTF-8</encoding>
        </configuration>
      </plugin>
      <plugin>
        <artifactId>maven-surefire-plugin</artifactId>
        <configuration>
          <skipTests>true</skipTests>
        </configuration>
      </plugin>
      <plugin>
        <groupId>com.google.cloud.tools</groupId>
        <artifactId>jib-maven-plugin</artifactId>
      </plugin>
      <plugin>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-maven-plugin</artifactId>
      </plugin>
      <plugin>
        <artifactId>maven-resources-plugin</artifactId>
        <version>3.1.0</version>
        <configuration>
          <nonFilteredFileExtensions>
            <nonFilteredFileExtension>woff</nonFilteredFileExtension>
            <nonFilteredFileExtension>woff2</nonFilteredFileExtension>
            <nonFilteredFileExtension>eot</nonFilteredFileExtension>
            <nonFilteredFileExtension>ttf</nonFilteredFileExtension>
            <nonFilteredFileExtension>svg</nonFilteredFileExtension>
          </nonFilteredFileExtensions>
        </configuration>
      </plugin>
    </plugins>
  </build>
  <profiles>
    <profile>
      <id>dev</id>
      <activation>
        <activeByDefault>true</activeByDefault>
      </activation>
      <properties>
        <config.server-addr>jeecg-boot-nacos:8848</config.server-addr>
        <profile.name>dev</profile.name>
      </properties>
    </profile>
    <profile>
      <id>test</id>
      <properties>
        <config.server-addr>jeecg-boot-nacos:8848</config.server-addr>
        <profile.name>test</profile.name>
      </properties>
    </profile>
    <profile>
      <id>prod</id>
      <properties>
        <config.server-addr>jeecg-boot-nacos:8848</config.server-addr>
        <profile.name>prod</profile.name>
      </properties>
    </profile>
  </profiles>
</project>
